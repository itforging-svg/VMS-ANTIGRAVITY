{
  "meta": {
    "project": "VMS-ANTIGRAVITY Visitor Management System",
    "date": "2026-01-14",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "VMS-ANTIGRAVITY is an enterprise-grade Visitor Management System designed specifically for industrial environments such as Chandan Steel Ltd. It streamlines visitor registration with live photo capture, enforces robust role-based access control, and provides comprehensive visitor data management and reporting functionalities.",
  "core_goals": [
    "Enable secure, role-based login and access control for Super Admin and Plant Admin roles.",
    "Simplify and accelerate visitor registration with live photo capture and data validation.",
    "Provide an intuitive dashboard for real-time visitor management, filtering, and status tracking.",
    "Allow visitor record editing, blacklisting, and controlled deletion for audit integrity.",
    "Support efficient reporting via CSV export and generation of printable visitor passes.",
    "Ensure secure, self-hosted deployment with local network access and HTTPS-enabled photo capture."
  ],
  "key_features": [
    "Role-based authentication using JWT with session management and access restrictions by plant.",
    "Visitor registration form with webcam photo capture, dynamic asset logging, and validation.",
    "Visitor search by mobile or Aadhar number to preload visitor details for faster registration.",
    "Admin dashboard showing visitor logs with filters by plant and date, real-time updates, and status management (approve, reject, exit).",
    "Visitor editing via modals for updating details.",
    "Blacklisting and unblacklisting visitors (Super Admin only) to restrict future visits.",
    "Soft deletion of visitor records with hidden UI state and retention in database for audits (Super Admin only).",
    "CSV report generation filtered by date and plant for offline analysis.",
    "Generation of printable visitor passes including photo, visitor details, and EHS guidelines.",
    "Photo upload handled securely with Multer middleware for record storage.",
    "Implemented secure routing and navigation with React Router and protected routes."
  ],
  "user_flow_summary": [
    "Guard or Plant Admin logs into the system via secure authentication.",
    "Guard accesses visitor registration page, enters visitor details, captures photo via webcam, and submits form.",
    "System saves visitor data, automatically generates a visitor pass/print slip.",
    "Visitor wears pass and completes visit at the plant; entry and exit times are tracked.",
    "Admins access dashboard to review visitor logs, filter by plant/date, approve or reject visitor status, and manage records.",
    "Super Admins can blacklist or delete visitor records as needed for security and compliance.",
    "Admins generate CSV reports or print slips for audit and operational use."
  ],
  "validation_criteria": [
    "All user authentication actions securely issue JWT tokens and enforce role-based restrictions.",
    "Visitor registration form correctly captures and validates all mandatory fields including live photo capture.",
    "Visitor search autofills visitor data accurately based on mobile or Aadhar number.",
    "Dashboard filters return accurate visitor logs by plant and date range.",
    "Visitor status updates (approve, reject, exit) are consistently recorded with timestamps.",
    "Blacklisting enforces blocking further registrations by blacklisted visitors.",
    "Soft delete hides visitor records from UI but retains them in the database for auditability.",
    "CSV reports export data matching applied filters without data loss.",
    "Print slips contain complete visitor details and photos formatted to specification.",
    "System runs securely on HTTPS with correct certificate setup enabling webcam access.",
    "Front-end routing protects pages requiring authentication and respects user roles."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Express",
      "PostgreSQL",
      "Vite",
      "Tailwind CSS",
      "JWT",
      "Multer",
      "Node.js"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication system with JWT tokens, login functionality, and role-based access control (Super Admin and Plant Admins)",
        "files": [
          "server/src/routes/auth.routes.ts",
          "server/src/middleware/auth.middleware.ts",
          "client/src/pages/Login.tsx",
          "client/src/context/AuthContext.tsx"
        ]
      },
      {
        "name": "Visitor Registration",
        "description": "Visitor registration form with photo capture using webcam, form validation, and visitor data submission",
        "files": [
          "client/src/pages/RegisterVisitor.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Visitor Search",
        "description": "Search visitors by mobile number or Aadhar number to auto-fill previous visitor details",
        "files": [
          "client/src/pages/RegisterVisitor.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Admin dashboard displaying visitor logs with filtering, search, status management, and statistics",
        "files": [
          "client/src/pages/Dashboard.tsx"
        ]
      },
      {
        "name": "Visitor Status Management",
        "description": "Approve, reject, or mark exit for visitors with status updates and entry/exit time tracking",
        "files": [
          "client/src/pages/Dashboard.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Visitor Editing",
        "description": "Edit visitor details through a modal interface",
        "files": [
          "client/src/components/EditVisitorModal.tsx",
          "client/src/pages/Dashboard.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Visitor Blacklisting",
        "description": "Blacklist or unblacklist visitors (Super Admin only) to prevent future registrations",
        "files": [
          "client/src/pages/Dashboard.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Visitor Deletion",
        "description": "Soft delete visitor records (Super Admin only)",
        "files": [
          "client/src/pages/Dashboard.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Report Generation",
        "description": "Generate CSV reports of visitors filtered by date range and plant",
        "files": [
          "client/src/pages/Dashboard.tsx",
          "server/src/routes/report.routes.ts"
        ]
      },
      {
        "name": "Print Slip",
        "description": "Print visitor pass/slip with visitor details and EHS guidelines",
        "files": [
          "client/src/pages/PrintSlip.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Photo Upload",
        "description": "Upload and store visitor photos using Multer file upload middleware",
        "files": [
          "client/src/pages/RegisterVisitor.tsx",
          "server/src/routes/visitor.routes.ts"
        ]
      },
      {
        "name": "Database Management",
        "description": "PostgreSQL database initialization, migrations, and query operations",
        "files": [
          "server/src/db.ts"
        ]
      },
      {
        "name": "Routing",
        "description": "React Router setup with protected routes and navigation",
        "files": [
          "client/src/App.tsx"
        ]
      }
    ]
  }
}
